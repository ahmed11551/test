# Быстрое решение проблемы 404

## Шаг 1: Проверьте, задеплоен ли бекенд

Откройте в браузере URL вашего бекенда (например, `https://your-backend.railway.app/`)

**Должно вернуться:**
```json
{"status": "ok", "message": "Chat API is running"}
```

**Если не работает:**
- Бекенд не задеплоен → задеплойте по инструкции в `DEPLOY.md`
- Ошибка 404 → проверьте правильность URL и что сервис запущен

## Шаг 2: Проверьте переменную окружения на фронтенде

### На Vercel:
1. Зайдите в Settings → Environment Variables
2. Проверьте, что есть переменная `VITE_API_URL`
3. Значение должно быть URL бекенда БЕЗ слеша в конце
   - ✅ Правильно: `https://your-backend.railway.app`
   - ❌ Неправильно: `https://your-backend.railway.app/`

### На Netlify:
1. Зайдите в Site settings → Environment variables
2. Проверьте переменную `VITE_API_URL`
3. Убедитесь, что URL правильный (без слеша в конце)

## Шаг 3: Передеплойте фронтенд

После изменения переменных окружения **обязательно передеплойте** фронтенд:
- На Vercel: нажмите "Redeploy" в последнем деплое
- На Netlify: нажмите "Trigger deploy" → "Clear cache and deploy site"

## Шаг 4: Проверьте в браузере

1. Откройте DevTools (F12)
2. Вкладка Console - проверьте логи
3. Вкладка Network - проверьте запросы к API
4. Найдите запрос к `/messages` и посмотрите:
   - Какой URL используется
   - Какой статус ответа
   - Есть ли ошибки CORS

## Частые проблемы

### Проблема: "Cannot connect to API"
**Решение:** Бекенд не запущен или URL неправильный. Проверьте шаг 1.

### Проблема: "404 NOT_FOUND" при запросе к API
**Решение:** 
- URL бекенда неправильный в переменной `VITE_API_URL`
- Бекенд не задеплоен или упал
- Проверьте логи бекенда на платформе деплоя

### Проблема: CORS error
**Решение:** 
- Временно используйте `allow_origins=["*"]` в `backend/main.py`
- Или добавьте URL фронтенда в `ALLOWED_ORIGINS` на бекенде

## Минимальная рабочая конфигурация

Для быстрого теста:

1. **Бекенд:** Задеплойте на Railway или Render
2. **Фронтенд:** Задеплойте на Vercel
3. **Переменная:** Установите `VITE_API_URL` = URL бекенда
4. **CORS:** Оставьте `allow_origins=["*"]` в бекенде
5. **Передеплойте** фронтенд после установки переменной

## Проверка работоспособности

После всех шагов:
1. Откройте фронтенд в браузере
2. Должен загрузиться чат
3. Попробуйте отправить сообщение
4. Сообщение должно появиться в чате
5. Обновите страницу - сообщение должно остаться

Если все еще не работает, проверьте логи:
- Логи бекенда на платформе деплоя
- Консоль браузера (F12)
- Network tab в DevTools

